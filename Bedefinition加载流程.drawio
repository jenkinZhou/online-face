<mxfile host="app.diagrams.net" modified="2022-07-26T01:26:30.720Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.60 Safari/537.36" etag="nrTaRUe6cmJpuBvOKTzj" version="20.1.4" type="github">
  <diagram id="qRgSkZ1m7w0oscVlsJi2" name="第 1 页">
    <mxGraphModel dx="3008" dy="3232" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="1ompkj2hWSB-YoC1AE3v-81" value="" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="1940" y="-136" width="1790" height="1890" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-2" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-size: 6pt;&quot;&gt;AbstractApplicationContext&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;rounded=1;glass=0;shadow=0;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="60" y="80" width="160" height="560" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-5" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-2" vertex="1">
          <mxGeometry x="75" y="110" width="10" height="240" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-6" value="refresh" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-2" target="kqyRtx0JfChElpCiszqf-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="80" y="80" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="80" />
              <mxPoint x="110" y="110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-14" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-2" vertex="1">
          <mxGeometry x="85" y="135" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-18" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-size: 6pt;&quot;&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;AbstractRefreshable&lt;/div&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;ApplicationContext&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;rounded=1;glass=0;shadow=0;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="350" y="70" width="160" height="560" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-24" value="" style="html=1;points=[[1,0.05,0,0,0],[1,0.1,0,0,0],[1,0.15,0,0,0],[1,0.2,0,0,0],[1,0.25,0,0,0],[1,0.3,0,0,0],[1,0.35,0,0,0],[1,0.4,0,0,0],[1,0.45,0,0,0],[1,0.5,0,0,0],[1,0.55,0,0,0],[1,0.6,0,0,0],[1,0.65,0,0,0],[1,0.7,0,0,0],[1,0.75,0,0,0],[1,0.8,0,0,0],[1,0.85,0,0,0],[1,0.9,0,0,0],[1,0.95,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;arcSize=50;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-18" vertex="1">
          <mxGeometry x="75" y="130" width="10" height="140" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-30" value="" style="html=1;points=[[1,0.09,0,0,0],[1,0.18,0,0,0],[1,0.27,0,0,0],[1,0.36,0,0,0],[1,0.45,0,0,0],[1,0.55,0,0,0],[1,0.64,0,0,0],[1,0.73,0,0,0],[1,0.82,0,0,0],[1,0.91,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-18" vertex="1">
          <mxGeometry x="84.99999999999977" y="204" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.2;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.05;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=blockThin;startFill=1;endArrow=none;endFill=0;" parent="kqyRtx0JfChElpCiszqf-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="85" y="163" as="sourcePoint" />
            <mxPoint x="85" y="142.00000000000006" as="targetPoint" />
            <Array as="points">
              <mxPoint x="100" y="163" />
              <mxPoint x="100" y="165" />
              <mxPoint x="120" y="165" />
              <mxPoint x="120" y="140" />
              <mxPoint x="85" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.2;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.05;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=blockThin;startFill=1;endArrow=none;endFill=0;" parent="kqyRtx0JfChElpCiszqf-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="85" y="192.98000000000002" as="sourcePoint" />
            <mxPoint x="85" y="171.98000000000005" as="targetPoint" />
            <Array as="points">
              <mxPoint x="100" y="192.98000000000002" />
              <mxPoint x="100" y="194.98000000000002" />
              <mxPoint x="120" y="194.98000000000002" />
              <mxPoint x="120" y="169.98" />
              <mxPoint x="85" y="169.98" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-15" value="&lt;div style=&quot;font-size: 6pt;&quot;&gt;refreshBeanFactory&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=none;entryX=1;entryY=0;rounded=0;endFill=0;startArrow=block;startFill=1;fontFamily=Comic Sans MS;exitX=-0.175;exitY=0.122;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="kqyRtx0JfChElpCiszqf-24" target="kqyRtx0JfChElpCiszqf-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="210" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-25" value="创建bean工厂，解析beanDefinition" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="220" y="210" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-26" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-size: 6pt;&quot;&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;XmlBeanDefinitionReader&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;rounded=1;glass=0;shadow=0;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="590" y="70" width="160" height="560" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-27" value="" style="html=1;points=[[0,0.09,0,0,0],[0,0.18,0,0,0],[0,0.27,0,0,0],[0,0.36,0,0,0],[0,0.45,0,0,0],[0,0.55,0,0,0],[0,0.64,0,0,0],[0,0.73,0,0,0],[0,0.82,0,0,0],[0,0.91,0,0,0],[1,0.06,0,0,0],[1,0.13,0,0,0],[1,0.19,0,0,0],[1,0.25,0,0,0],[1,0.31,0,0,0],[1,0.38,0,0,0],[1,0.44,0,0,0],[1,0.5,0,0,0],[1,0.56,0,0,0],[1,0.63,0,0,0],[1,0.69,0,0,0],[1,0.75,0,0,0],[1,0.81,0,0,0],[1,0.88,0,0,0],[1,0.94,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;arcSize=50;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-26" vertex="1">
          <mxGeometry x="75" y="188" width="10" height="227" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-47" value="" style="html=1;points=[[1,0.09,0,0,0],[1,0.18,0,0,0],[1,0.27,0,0,0],[1,0.36,0,0,0],[1,0.45,0,0,0],[1,0.55,0,0,0],[1,0.64,0,0,0],[1,0.73,0,0,0],[1,0.82,0,0,0],[1,0.91,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-26" vertex="1">
          <mxGeometry x="84.99999999999977" y="196" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-49" value="" style="html=1;points=[[1,0.09,0,0,0],[1,0.18,0,0,0],[1,0.27,0,0,0],[1,0.36,0,0,0],[1,0.45,0,0,0],[1,0.55,0,0,0],[1,0.64,0,0,0],[1,0.73,0,0,0],[1,0.82,0,0,0],[1,0.91,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-26" vertex="1">
          <mxGeometry x="84.99999999999977" y="286" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-34" value="createXmlBeanDefinitionReader" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="500" y="230" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.09;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.094;entryY=0.039;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=blockThin;startFill=1;endArrow=none;endFill=0;" parent="1" source="kqyRtx0JfChElpCiszqf-27" target="kqyRtx0JfChElpCiszqf-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-39" value="loadBeanDefinitions" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-37" vertex="1" connectable="0">
          <mxGeometry x="0.2032" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-41" value="createBeanFactory" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="470" y="200" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-42" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-size: 6pt;&quot;&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;DocumentLoader&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;rounded=1;glass=0;shadow=0;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="800" y="69" width="160" height="560" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-43" value="" style="html=1;points=[[0,0.09,0,0,0],[0,0.18,0,0,0],[0,0.27,0,0,0],[0,0.36,0,0,0],[0,0.45,0,0,0],[0,0.55,0,0,0],[0,0.64,0,0,0],[0,0.73,0,0,0],[0,0.82,0,0,0],[0,0.91,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;arcSize=50;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-42" vertex="1">
          <mxGeometry x="75" y="201" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-44" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-size: 6pt;&quot;&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;BeanDefinitionDocumentReader&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;rounded=1;glass=0;shadow=0;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="990" y="70" width="240" height="559" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-45" value="" style="html=1;points=[[0,0.09,0,0,0],[0,0.17,0,0,0],[0,0.28,0,0,0],[0,0.36,0,0,0],[0,0.45,0,0,0],[0,0.55,0,0,0],[0,0.64,0,0,0],[0,0.72,0,0,0],[0,0.82,0,0,0],[0,0.91,0,0,0],[1,0.09,0,0,0],[1,0.18,0,0,0],[1,0.27,0,0,0],[1,0.36,0,0,0],[1,0.45,0,0,0],[1,0.55,0,0,0],[1,0.64,0,0,0],[1,0.73,0,0,0],[1,0.82,0,0,0],[1,0.91,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;arcSize=50;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-44" vertex="1">
          <mxGeometry x="115" y="280" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.09;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.123;entryY=0.02;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-47" target="kqyRtx0JfChElpCiszqf-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-51" value="&lt;div style=&quot;font-size: 6pt;&quot;&gt;doLoadDocument&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-48" vertex="1" connectable="0">
          <mxGeometry x="-0.1873" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.09;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.654;entryY=0.144;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-49" target="kqyRtx0JfChElpCiszqf-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-54" value="&lt;div style=&quot;font-size: 6pt;&quot;&gt;registerBeanDefinitions&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-50" vertex="1" connectable="0">
          <mxGeometry x="-0.2634" y="-1" relative="1" as="geometry">
            <mxPoint x="142" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.64;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.91;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-43" target="kqyRtx0JfChElpCiszqf-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-53" value="return doc" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-52" vertex="1" connectable="0">
          <mxGeometry x="0.3118" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-56" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-size: 6pt;&quot;&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;BeanDefinitionDocumentReader&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;sketch=1;rounded=1;glass=0;shadow=0;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="1241" y="69" width="250" height="559" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-57" value="" style="html=1;points=[[0,0.09,0,0,0],[0,0.18,0,0,0],[0,0.27,0,0,0],[0,0.36,0,0,0],[0,0.45,0,0,0],[0,0.55,0,0,0],[0,0.64,0,0,0],[0,0.73,0,0,0],[0,0.82,0,0,0],[0,0.91,0,0,0]];perimeter=orthogonalPerimeter;rounded=1;shadow=0;glass=0;sketch=1;arcSize=50;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-56" vertex="1">
          <mxGeometry x="120" y="274" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-62" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-56" vertex="1">
          <mxGeometry x="175" y="254" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.09;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.18;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-45" target="kqyRtx0JfChElpCiszqf-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-59" value="&lt;div style=&quot;font-size: 6pt;&quot;&gt;parseElement&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-58" vertex="1" connectable="0">
          <mxGeometry x="0.1056" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.91;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.874;entryY=0.916;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-27" target="kqyRtx0JfChElpCiszqf-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-61" value="return count" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Comic Sans MS;" parent="kqyRtx0JfChElpCiszqf-60" vertex="1" connectable="0">
          <mxGeometry x="0.2665" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-63" value="&lt;ul&gt;&lt;li&gt;解析元素标签为BeanDefinition对象&lt;/li&gt;&lt;li&gt;对beanDefnition进行装饰&lt;/li&gt;&lt;li&gt;注册beanDefinition，注册的时候主要涉及到几个容器：beanDefinitionMap：每一个bean的名称对应一个beanDefinition，beanDefinitionNames：所有BeanDefinition的名称&lt;/li&gt;&lt;li&gt;建立别名与beanid的映射关系&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="1430" y="313" width="320" height="150" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-65" value="包括自定义标签和默认标签的解析" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="1150" y="380" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-67" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="132.5" y="780" width="1537.5" height="360" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-68" value="自定义标签的解析流程（component-scan为例）" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;rounded=1;shadow=0;glass=0;sketch=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
          <mxGeometry x="620" y="820" width="520" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-70" target="kqyRtx0JfChElpCiszqf-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-70" value="&lt;div style=&quot;font-size: 6pt;&quot;&gt;BeanDefinitionDocumentReader解析自定义标签&lt;/div&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;根据标签对应的前缀，例如context&lt;/div&gt;&lt;div style=&quot;font-size: 6pt;&quot;&gt;使用spi机制匹配到对应的执行类&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;shadow=0;glass=0;fontFamily=Comic Sans MS;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="200" y="930" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-71" target="kqyRtx0JfChElpCiszqf-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-71" value="进入到NamespaceHandlerSupport，利用spi机制会在根据标签名称找到对应的标签解析器&lt;br&gt;例如component-scan对应的就是ComponentScanBeanDefinitionParser" style="whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;rounded=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;sketch=1;shadow=0;glass=0;" parent="1" vertex="1">
          <mxGeometry x="630" y="932.5" width="250" height="125" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="kqyRtx0JfChElpCiszqf-73" target="kqyRtx0JfChElpCiszqf-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-73" value="进入ComponentScanBeanDefinitionParser&lt;br&gt;1、创建一个scaner扫描器，&lt;br&gt;2、使用扫描器扫描路径下的所有class文件，并且封装成一个Metadata对象，&lt;br&gt;3、然后包装到BeanDefinition里面，返回一个BeanDefinition集合，&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;4、并注册到BeanDefinitionRegistry里面去&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fillColor=#dae8fc;strokeColor=#6c8ebf;rounded=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;sketch=1;shadow=0;glass=0;align=left;" parent="1" vertex="1">
          <mxGeometry x="980" y="930" width="290" height="130" as="geometry" />
        </mxCell>
        <mxCell id="kqyRtx0JfChElpCiszqf-76" value="根据BeanDefinition里面的信息判断需要注册哪些后置处理器，例如有@Autowire注解则需要注册AutowiredAnnotationBeanPostProcessor&lt;br&gt;有@configuration 则需要注册ConfigurationClassPostProcessor&lt;br&gt;等等之类的&lt;br&gt;这些后置处理器将会在创建bean实例的时候被调用" style="whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;rounded=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;sketch=1;shadow=0;glass=0;" parent="1" vertex="1">
          <mxGeometry x="1350" y="930" width="250" height="130" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="126.25" y="1300" width="1243.75" height="380" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-2" value="自动装配的流程" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="650" y="1320" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;curved=1;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-3" target="kqyRtx0JfChElpCiszqf-76">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="925" y="1280" />
              <mxPoint x="1475" y="1280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-3" value="在前面的解析自定义标签的时候会有一个地方注册beanPostProcesser，根据这些PostProcesser的名称可以得知是在实例化的过程中会被调用的，其中有两个PostProcesser，CommonAnnotationBeanPostProcessor，AutowiredAnnotationBeanPostProcessor，这两个注解分别负责了@Resource自动装配和@Autowire自动装配" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="150" y="1390" width="1310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-8" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=21;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-6" target="1ompkj2hWSB-YoC1AE3v-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;第一步：收集阶段&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;br&gt;通过后置处理器（对应方法：postProcessMergedBeanDefinition），收集类中带有@Autowire或者带有@Resource等等注解的属性或者方法，并且将其封装到PostProcesser里面的injectionMetadataCache缓存里面" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;strokeColor=#6c8ebf;align=left;verticalAlign=top;spacing=12;" vertex="1" parent="1">
          <mxGeometry x="330" y="1465" width="360" height="150" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-7" value="&lt;b&gt;&lt;font style=&quot;font-size: 21px;&quot;&gt;第二步：依赖注入阶段&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;br&gt;在第一步中，已经收集到了类里面带有@Autowire或者带有@Resource属性的属性或者方法了，那现在需要对这些属性进行赋值，或者方法进行调用，因此通过调用后置处理器的postProcessProperties方法，完成依赖注入的过程，对于属性的赋值，将会递归的调用getBean方法" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;strokeColor=#6c8ebf;align=left;verticalAlign=top;spacing=12;" vertex="1" parent="1">
          <mxGeometry x="770" y="1465" width="360" height="150" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-19" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=18;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-13" target="1ompkj2hWSB-YoC1AE3v-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-21" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=18;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-13" target="1ompkj2hWSB-YoC1AE3v-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-25" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-13" target="1ompkj2hWSB-YoC1AE3v-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-13" value="解析生成BeanDefinition" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=21;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2120" y="170" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-17" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=18;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-14" target="1ompkj2hWSB-YoC1AE3v-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-14" value="注册并实例化BeanPostProcesser" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2120" y="610" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-30" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-16" target="1ompkj2hWSB-YoC1AE3v-29">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2320" y="765" />
              <mxPoint x="2320" y="485" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-83" value="缓存获取" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-30">
          <mxGeometry x="0.1063" y="7" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-32" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-16" target="1ompkj2hWSB-YoC1AE3v-31">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2330" y="765" />
              <mxPoint x="2330" y="1035" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-84" value="创建实例" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-32">
          <mxGeometry x="-0.1022" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-16" value="实例化所有的bean" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2120" y="730" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-18" value="基于XML解析普通的bean标签" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=21;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2410" y="90" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-23" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=18;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-20" target="1ompkj2hWSB-YoC1AE3v-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-20" value="基于自定义标签component-scan" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=21;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2420" y="210" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-22" value="调用ComponentScan&lt;br style=&quot;font-size: 12px;&quot;&gt;BeanDefinition&lt;br style=&quot;font-size: 12px;&quot;&gt;Parser并且初始化一系列的BeanPostProcesser" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=12;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2660" y="210" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-27" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-24" target="1ompkj2hWSB-YoC1AE3v-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-24" value="初始化一些BeanFactory&lt;br style=&quot;font-size: 16px;&quot;&gt;PostProcesser" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2120" y="320" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-28" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;fontSize=16;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-26" target="1ompkj2hWSB-YoC1AE3v-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-26" value="调用BeanFactory&lt;br style=&quot;font-size: 16px;&quot;&gt;PostProcesser" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2120" y="470" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-64" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-29" target="1ompkj2hWSB-YoC1AE3v-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-80" value="解决循环依赖" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-64">
          <mxGeometry x="-0.1431" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-29" value="1、从缓存获取bean实例" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2380" y="450" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-34" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-31" target="1ompkj2hWSB-YoC1AE3v-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-70" value="收集属性" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-34">
          <mxGeometry x="0.2013" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-36" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=13;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-31" target="1ompkj2hWSB-YoC1AE3v-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-68" value="实例化" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-36">
          <mxGeometry x="0.4202" y="-12" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-46" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-31" target="1ompkj2hWSB-YoC1AE3v-45">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2680" y="1035" />
              <mxPoint x="2680" y="875" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-69" value="缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-46">
          <mxGeometry x="0.473" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-48" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-31" target="1ompkj2hWSB-YoC1AE3v-47">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2640" y="1035" />
              <mxPoint x="2640" y="1250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-72" value="依赖注入" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-48">
          <mxGeometry x="0.1495" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-52" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=14;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-31" target="1ompkj2hWSB-YoC1AE3v-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-73" value="bean初始化" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-52">
          <mxGeometry x="0.2074" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-62" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=14;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-31" target="1ompkj2hWSB-YoC1AE3v-61">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2570" y="1035" />
              <mxPoint x="2570" y="1605" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-74" value="清除缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-62">
          <mxGeometry x="0.3657" y="16" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-31" value="2、没有获取到，需要调用createBean" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2370" y="1000" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-33" value="3、收集属性or方法&lt;br style=&quot;font-size: 13px;&quot;&gt;调用applyMergedBean&lt;br style=&quot;font-size: 13px;&quot;&gt;DefinitionPostProcessors&lt;br&gt;收集带有@Autowire，@Resource的注解或方法，以及带有@PostConstruct，@Destory注解的方法，封装成为meta对象保存在PostProcesser里面" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=13;strokeColor=#6c8ebf;align=left;spacing=6;" vertex="1" parent="1">
          <mxGeometry x="2690" y="980" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-38" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=13;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-35" target="1ompkj2hWSB-YoC1AE3v-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-40" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=13;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-35" target="1ompkj2hWSB-YoC1AE3v-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-42" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-35" target="1ompkj2hWSB-YoC1AE3v-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-35" value="1、调用createBeanInstance创建bean对象" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2710" y="710" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-37" value="1、通过factory-name方式创建对象" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3040" y="585" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-39" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;2、通过beanPostProcesser收集带有@autowire注解的构造函数，并解析参数创建&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3040" y="700" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-41" value="3、通过调用无参构造函数反射进行实例化" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3040" y="800" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-45" value="2、把创建好的对象加入到三级缓存里面" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2710" y="840" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-50" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=12;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-47" target="1ompkj2hWSB-YoC1AE3v-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-47" value="4、调用populateBean进行依赖注入" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2670" y="1210" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-66" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=16;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-49" target="1ompkj2hWSB-YoC1AE3v-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-49" value="循环调用之前第三步解析过属性或方法的后置处理器，并且给属性赋值或者调用方法，当参数是引用类型的时候会再次触发getBean" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#6c8ebf;spacing=6;align=left;" vertex="1" parent="1">
          <mxGeometry x="2960" y="1140" width="210" height="90" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-54" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=14;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-51" target="1ompkj2hWSB-YoC1AE3v-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-75" value="接口调用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-54">
          <mxGeometry x="0.0929" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-56" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=14;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-51" target="1ompkj2hWSB-YoC1AE3v-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-76" value="注解调用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-56">
          <mxGeometry x="0.0682" y="-9" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-58" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=14;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-51" target="1ompkj2hWSB-YoC1AE3v-57">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2900" y="1465" />
              <mxPoint x="2900" y="1555" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-77" value="指定方法" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-58">
          <mxGeometry x="-0.1412" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-60" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;fontSize=14;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-51" target="1ompkj2hWSB-YoC1AE3v-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2880" y="1465" />
              <mxPoint x="2880" y="1640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-78" value="aop" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-60">
          <mxGeometry x="-0.0055" y="23" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-51" value="5、init方法的调用" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2680" y="1430" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-53" value="1、调用实现了BeanNameAware，BeanFactoryAware&lt;br style=&quot;font-size: 14px;&quot;&gt;接口的bean的实现方法" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3020" y="1280" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-55" value="2、调用后置处理器的postProcessBefore&lt;br style=&quot;font-size: 14px;&quot;&gt;Initialization方法&lt;br style=&quot;font-size: 14px;&quot;&gt;调用带有@PostConstruct注解的方法" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#6c8ebf;align=left;" vertex="1" parent="1">
          <mxGeometry x="3030" y="1380" width="190" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-57" value="3、调用指定的init-method" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3020" y="1520" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-59" value="4、调用后置处理器的postProcessAfter&lt;br style=&quot;font-size: 14px;&quot;&gt;Initialization方法，获得一个新的包装bean，和aop有关" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#ffe6cc;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="3030" y="1610" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-61" value="6、bean创建完成，放入1级缓存，移除2级缓存和3级缓存" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=16;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2690" y="1570" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-63" value="先从1级缓存获取，如果没有再从2级缓存获取，还没有的话从3级缓存获取，如果获取到了，那么删除3级缓存，放入2级缓存" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=18;strokeColor=#6c8ebf;align=left;" vertex="1" parent="1">
          <mxGeometry x="2760" y="410" width="250" height="150" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-67" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;fontSize=16;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="1ompkj2hWSB-YoC1AE3v-65" target="1ompkj2hWSB-YoC1AE3v-29">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3070" y="485" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3590" y="1185" />
              <mxPoint x="3590" y="410" />
              <mxPoint x="3080" y="410" />
              <mxPoint x="3080" y="380" />
              <mxPoint x="2520" y="380" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-79" value="循环依赖" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Comic Sans MS;" vertex="1" connectable="0" parent="1ompkj2hWSB-YoC1AE3v-67">
          <mxGeometry x="-0.4289" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-65" value="此处递归调用getean可能会发生循环依赖，通过三级缓存解决" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#dae8fc;sketch=1;fontFamily=Comic Sans MS;fontSize=14;strokeColor=#6c8ebf;spacing=6;align=left;" vertex="1" parent="1">
          <mxGeometry x="3250" y="1140" width="210" height="90" as="geometry" />
        </mxCell>
        <mxCell id="1ompkj2hWSB-YoC1AE3v-82" value="Bean的实例化流程" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="2720" y="-70" width="100" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
